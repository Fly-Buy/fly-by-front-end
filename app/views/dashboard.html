<main class="dashboard">
  <div class="left-input-bar">
    <h1 class='input-bar-header'>Search for a flight</h1>
    <p>Type into any field to begin</p>
    <form class="left-input-form" ng-model="dash.flightInfo" name="flightinfoform">
     <input tooltip-placement="right" uib-tooltip="Flight Date" type="text" onfocus="(this.type='date')" onblur="(this.type='text')" ng-required="true" ng-model="dash.flightInfo.flightDate" ng-blur="dash.limitData(dash.flightInfo)" placeholder="Flight Date" name="flight_date" />
     <input tooltip-placement="right" uib-tooltip="Airline" type="text" ng-model="dash.flightInfo.Airline" ng-blur="dash.limitData(dash.flightInfo)" placeholder="Airline" uib-typeahead="airline as airline.name for airline in dash.airlines | filter:$viewValue | limitTo:8" typeahead-loading="dash.loadingLocations" typeahead-no-results="dash.noResultsAirline">
     <i ng-show="dash.loadingLocations" class="glyphicon glyphicon-refresh"></i>
     <div ng-show="dash.noResultsAirline">
       <i class="glyphicon glyphicon-remove"></i> No Results Found
     </div>
     <input tooltip-placement="right" uib-tooltip="Departure Airport" type="text" ng-model="dash.flightInfo.DepartureAirport" ng-blur="dash.limitData(dash.flightInfo)" ng-required="true" placeholder="Departure Airport" uib-typeahead="airport as airport.name for airport in dash.airports | filter:$viewValue | limitTo:8" typeahead-loading="dash.loadingLocations" typeahead-no-results="dash.noResultsDepAirport">
     <i ng-show="dash.loadingLocations" class="glyphicon glyphicon-refresh"></i>
     <div ng-show="dash.noResultsDepAirport">
       <i class="glyphicon glyphicon-remove"></i> No Results Found
     </div>
     <input tooltip-placement="right" uib-tooltip="Arrival Airport" type="text" ng-model="dash.flightInfo.ArrivalAirport" ng-blur="dash.limitData(dash.flightInfo)" ng-required="true" placeholder="Arrival Airport" uib-typeahead="airport as airport.name for airport in dash.airports | filter:$viewValue | limitTo:8" typeahead-loading="dash.loadingLocations" typeahead-no-results="dash.noResultsArrAirport">
     <i ng-show="dash.loadingLocations" class="glyphicon glyphicon-refresh"></i>
     <div ng-show="dash.noResultsArrAirport">
       <i class="glyphicon glyphicon-remove"></i> No Results Found
     </div>
     <input tooltip-placement="right" uib-tooltip="Purchase Date" type="text" onfocus="(this.type='date')" onblur="(this.type='text')" ng-model="dash.flightInfo.purchaseDate" placeholder="Purchase Date" name="purchase_date" />
     <input tooltip-placement="right" uib-tooltip="Flight #" type="text" ng-model="dash.flightInfo.flightNum" placeholder="Flight Number" name="flight_number"/>
     <input tooltip-placement="right" uib-tooltip="Price ($)" type="number" ng-model="dash.flightInfo.pricePaid" ng-blur="dash.limitData(dash.flightInfo)" ng-required="true" placeholder="Price" name="price_paid" min="0" step="1" value="100"/>
     <input tooltip-placement="right" uib-tooltip="Purchase Location" type="text" ng-model="dash.flightInfo.purchaseLocation" placeholder="Purchase Location" name="purchase_location" />
   </form>
    <div class="toggle-buttons-container">
      <div class="search-button" form="flightinfoform" ng-click="dash.updateNewData()">
        <h4>Clear</h4>
      </div>
      <input value="Add flight" type="submit" class="add-flight-button" form="flightinfoform" ng-disabled="dash.noResultsAirline || dash.noResultsDepAirport || dash.noResultsArrAirport" ng-click="dash.postFlight(dash.flightInfo)" />
    </div>
  </div>
  <div class="data-container">
    <div class="graph-container">

      <!-- Bar chart -->
      <nvd3 options="dash.options" data="dash.data" ng-show="dash.show"></nvd3>

      <!-- <button ng-click="dash.show = !dash.show;">Pie Chart</button>
      <button ng-click="">Bar Chart</button> -->

    </div>
      <div class="data-table">
        <table class="table">
          <tr>
            <!-- <th> -->
              <td>Airline</td>
              <td>Arrival</td>
              <td>Departure</td>
              <td>Flight Date</td>
              <td>Flight Number</td>
              <td>Price</td>
              <td>Purchase Date</td>
              <td>Purchase Location</td>
              <td>Suspect?</td>
            <!-- </th> -->
          </tr>
          <tr ng-repeat="flight in dash.row_data">
            <td>{{flight.icao}}<br>{{flight.airline}}</td>
            <td>{{flight.arrival}}</td>
            <td>{{flight.departure}}</td>
            <td>{{flight.flight_date | date:'MM-dd-yyyy':'+0700'}}</td>
            <td>{{flight.flight_number}}</td>
            <td>{{flight.price_paid}}</td>
            <td>{{flight.purchase_date | date:'MM-dd-yyyy':'+0700'}}</td>
            <td>{{flight.purchase_location}}</td>
            <td>{{flight.suspect}}</td>
          </tr>
        </table>
      </div>
    </div>
</main>
